# 画像の色の簡略化アプリケーション ColorQuantizer

> [!TIP]
> このアプリケーションは，作者が Cursor を使って AI に指示をしただけで作ったものです．

## 概要

このアプリケーションは、画像のRGB各チャンネルの色深度を段階的に減らすことで、色を簡略化する機能を提供します。
これにより、通常256段階（8ビット）で表現される各色チャンネルを、より少ない段階数で表現し、独特な視覚効果を生み出します。

## 仕組み

### 色の量子化

- RGB各チャンネルは通常0〜255の256段階で表現されます
- ユーザーが指定した段階数（2〜16）に応じて、この256段階を均等に分割します
- 分割幅 = 256 ÷ 段階数
- 元の色値を分割幅で割って四捨五入し、再度分割幅を掛けることで量子化を行います

### 具体例

例えば、段階数を4に設定した場合：

1. 分割幅 = 256 ÷ 4 = 64
2. 各チャンネルの値は以下の4段階のいずれかに量子化されます：
   - 0 (0〜31の値)
   - 64 (32〜95の値)
   - 128 (96〜159の値)
   - 192 (160〜223の値)
   - 256 (224〜255の値)

### 視覚効果

- 段階数2：ほぼ2値化された極端な表現
- 段階数4：ポスター調のアート表現
- 段階数8：レトロな雰囲気の表現
- 段階数が増えるほど、元の画像に近い表現に

## 技術的な実装

```javascript
// 色の量子化の核となる計算
const step = 256 / depth;  // 分割幅の計算
newValue = Math.round(originalValue / step) * step;  // 値の量子化
```

## 使用方法

1. 「ファイルを選択」ボタンから画像をアップロード
2. スライダーを動かして色の段階数（2〜16）を調整
3. リアルタイムで簡略化された画像を確認

## 応用例

- ポスターデザイン
- レトロ調の画像加工
- アート作品の制作
- 画像の単純化による特徴抽出
